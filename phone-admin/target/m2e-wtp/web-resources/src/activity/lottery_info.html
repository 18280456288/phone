<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<title>活动编辑——翼翔管理系统</title>
<link rel="stylesheet" href="../css/amazeui.min.css">
<link rel="stylesheet" href="../css/amazeui.datetimepicker.css">
<link rel="stylesheet" href="../css/umeditor.min.css">
<link rel="stylesheet" href="../css/reset.css">
<link rel="stylesheet" href="../css/activity.css">
</head>
<body data-column="activity" data-page="lottery">

    <!-- 内容 -->
    <div class="cy-wrapper">

    	<!-- 工具条 -->
    	<div class="cy-toolbar">
	        <div class="cy-location cy-l"><i class="cy-icon-fire"></i><span>活动管理</span><span>活动编辑</span></div>
        </div>
        <!--//End 工具条 -->

        <div class="cy-grid cy-m24" data-temp="activity-info-content"></div>

    </div>
    <!--//End 内容 -->

<!-- 详情模板 -->
<script type="text/template" id="activity-info-content">
    <section class="cy-section">
        <div class="cy-section-main">
            <form class="cy-form">
                <div class="cy-form-group cy-row">
            		<label class="cy-col2">活动标题：</label>
            		<div class="cy-col6">
            			<input class="cy-input" type="hidden" name="pk" value="${pk}">
            			<input class="cy-input" type="hidden" name="url" value="${url}">
            			<input class="cy-input" type="text" name="title" placeholder="活动标题" value="${title}" required>
            		</div>
            	</div>

            	<div class="cy-form-group cy-row">
            		<label class="cy-col2">所属栏目：</label>
            		<div class="cy-col6">
            			<select class="cy-select" name="module" value="${module}" placeholder="所属栏目" required>
            				<option value="0">购车</option>
            				<option value="1">保养</option>
            			</select>
            		</div>
            	</div>

            	<div class="cy-form-group cy-row">
            		<label class="cy-col2">图片：<span>(750px * 300px)</span></label>
            		<div class="cy-col4">
            			<input type="hidden" name="img" value="${img}">
            			<input class="cy-input-file" type="file" value="${img}" placeholder="图片" ${v-ref:updatefile} required>
            		</div>
            		<div class="cy-col6">
            			<label class="cy-checkbox ${v-check:banner}">
            				<input type="checkbox" name="banner" ${v-check:banner}>首页banner，banner图片
            			</label>
            		</div>
            	</div>

            	<div class="cy-form-group cy-row">
            		<label class="cy-col2">报名费：</label>
            		<div class="cy-col4">
            			<input class="cy-input" type="text" name="price" value="${price}" placeholder="报名费" required>
            		</div>
            		<div class="cy-col2">
            			<label class="cy-checkbox ${v-check:banner}">
            				<input type="checkbox" value="0" name="forcePay" ${v-check:banner}>参与时强制支付
            			</label>
            		</div>
            	</div>

            	<div class="cy-form-group cy-row">
            		<label class="cy-col2">活动日期：</label>
            		<div class="cy-col3">
            			<input class="cy-input activity-start" type="text" data-type="date" name="startTime" placeholder="活动开始日期" value="${startTime}" required>
            		</div>
            		<div class="cy-col3">
            			<input class="cy-input activity-end" type="text" data-type="date" name="endTime" placeholder="活动结束日期" value="${endTime}" required>
            		</div>
            	</div>

                <div class="cy-form-group cy-row">
            		<label class="cy-col2">指定用户类型</label>
            		<div class="cy-col10 cy-checkbox-group" ${v-for:item in users}>
                        <label class="cy-checkbox ${item.checked}" data-id="${item.pk}" ${v-on:click="checkUser"}>
                            <input type="checkbox" value="${item.pk}" ${v-check:item.checked}>${item.name}
                        </label>
            		<${end}/div>
            	</div>

                <div class="cy-form-group cy-row">
            		<label class="cy-col2">指定用户车型</label>
                    <div class="cy-col10 cy-checkbox-group" ${v-for:item in orgClasses}>
                        <label class="cy-checkbox ${item.checked}" data-id="${item.pk}" ${v-on:click="checkType"}>
                            <input type="checkbox" value="${item.pk}" ${v-check:item.checked}>${item.name}
                        </label>
            		<${end}/div>
            	</div>

                <div class="cy-form-group cy-row">
            		<label class="cy-col2">活动参与次数</label>
            		<div class="cy-col3">
            			<select class="cy-select" name="joinCountType" placeholder="活动参与类型" value="${joinCountType}" required>
                            <option value="0">次/活动全程</option>
                            <option value="1">次/每日</option>
                        </select>
            		</div>
                    <div class="cy-col2">
                        <input class="cy-input" type="number" name="joinCount" placeholder="每人可抽奖次数" value="${joinCount}" required>
                    </div>
                    <div class="cy-input-prompt">每人可抽奖次数</div>
            	</div>

                <div class="cy-form-group cy-row">
            		<label class="cy-col2">奖项设置</label>
            		<div class="cy-col3">
            			<select class="cy-select" name="giftPkM" placeholder="" value="${giftPkM}" ${v-for:item in giftMasters}>
                            <option value="${item.pk}">${item.name}</option>
                        <${end}/select>
            		</div>
                    <div class="cy-input-prompt"><a href="javascript:;" ${v-on:click="setGift"}>查看奖品设置</a></div>
            	</div>

            </form>
        </div>
        <div class="cy-section-foot cy-rel">
            <button class="cy-btn cy-btn-green cy-btn-sm" ${v-on:click="save"}>保存</button>
            <a class="cy-btn cy-btn-sm" href="activity.html">返回</a>
        </div>
    </section>
</script>
<script src="../js/require.js" data-main="../js/activity/lotteryInfo"></script>
</body>
</html>
